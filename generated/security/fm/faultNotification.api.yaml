openapi: 3.0.1
info:
  description: "**This file forms part of MEF W148**\n\n**This API implements part\
    \ of Business Requirements & Use Cases described \nin MEF W133.1**\n\n**This specification\
    \ represents MEF work in progress and is subject to\nchange.**\n\nFault Management\
    \ allows the Buyer/Client to request that the Seller/Server\nperforms FM Job on\
    \ a Service, collect Fault Management Reports, as well as\nreceive notifications.\
    \ This allows managing issues and situation that are\nnot part of normal operations\
    \ of the Service provided by the Seller.\n\nList of supported use cases:\n- Send\
    \ Event Notification\n\nCopyright 2024 MEF Forum and its contributors.\n"
  title: Fault Management Notification
  version: 1.0.0-RC
servers:
- url: "https://{serverBase}/mefApi/allegro/faultNotification/v1/"
  variables:
    serverBase:
      default: mef.net
      description: The base of Buyer/Client's URL.
security:
- oauth2MEFLSOAPI:
  - default
tags:
- description: The Buyer/Client's endpoint to send particular event types  notifications
    to.
  name: Notification listeners
paths:
  /listener/faultManagementJobCreateEvent:
    post:
      description: Client listener for receiving the faultManagementJobCreateEvent  notification.
      operationId: faultManagementJobCreateEvent
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              $ref: '#/components/schemas/FaultManagementJobEvent'
        description: The event data
        required: true
      responses:
        "204":
          description: No Content (https://tools.ietf.org/html/rfc7231#section-6.3.5)
        "400":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error400'
          description: Bad Request
        "401":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error401'
          description: Unauthorized
        "403":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error403'
          description: Forbidden
        "408":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error408'
          description: Request Time-out
        "500":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error500'
          description: Internal Server Error
      security:
      - oauth2MEFLSOAPI:
        - faultManagementJobCreateEvent
      summary: Fault Management Job Create Notification endpoint.
      tags:
      - Notification listeners
  /listener/faultManagementJobStateChangeEvent:
    post:
      description: Client listener for receiving the faultManagementJobStateChangeEvent  notification.
      operationId: faultManagementJobStateChangeEvent
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              $ref: '#/components/schemas/FaultManagementJobEvent'
        description: The event data
        required: true
      responses:
        "204":
          description: No Content (https://tools.ietf.org/html/rfc7231#section-6.3.5)
        "400":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error400'
          description: Bad Request
        "401":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error401'
          description: Unauthorized
        "403":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error403'
          description: Forbidden
        "408":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error408'
          description: Request Time-out
        "500":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error500'
          description: Internal Server Error
      security:
      - oauth2MEFLSOAPI:
        - faultManagementJobStateChangeEvent
      summary: Fault Management Job State Change Notification endpoint.
      tags:
      - Notification listeners
  /listener/faultManagementJobAttributeValueChangeEvent:
    post:
      description: Client listener for receiving the  faultManagementJobAttributeValueChangeEvent
        notification.
      operationId: faultManagementJobAttributeValueChangeEvent
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              $ref: '#/components/schemas/FaultManagementJobEvent'
        description: The event data
        required: true
      responses:
        "204":
          description: No Content (https://tools.ietf.org/html/rfc7231#section-6.3.5)
        "400":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error400'
          description: Bad Request
        "401":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error401'
          description: Unauthorized
        "403":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error403'
          description: Forbidden
        "408":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error408'
          description: Request Time-out
        "500":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error500'
          description: Internal Server Error
      security:
      - oauth2MEFLSOAPI:
        - faultManagementJobAttributeValueChangeEvent
      summary: Fault Management Job Attribute Value Change Notification endpoint.
      tags:
      - Notification listeners
  /listener/faultManagementJobReportReadyEvent:
    post:
      description: Client listener for receiving the faultManagementJobReportReadyEvent  notification.
      operationId: faultManagementJobReportReadyEvent
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              $ref: '#/components/schemas/FaultManagementJobReportReadyEvent'
        description: The event data
        required: true
      responses:
        "204":
          description: No Content (https://tools.ietf.org/html/rfc7231#section-6.3.5)
        "400":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error400'
          description: Bad Request
        "401":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error401'
          description: Unauthorized
        "403":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error403'
          description: Forbidden
        "408":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error408'
          description: Request Time-out
        "500":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error500'
          description: Internal Server Error
      security:
      - oauth2MEFLSOAPI:
        - faultManagementJobReportReadyEvent
      summary: Fault Management Job Report Ready Notification endpoint.
      tags:
      - Notification listeners
  /listener/faultManagementJobReportPreparationErrorEvent:
    post:
      description: Client listener for receiving the  faultManagementJobReportPreparationErrorEvent
        notification.
      operationId: faultManagementJobReportPreparationErrorEvent
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              $ref: '#/components/schemas/FaultManagementJobReportPreparationErrorEvent'
        description: The event data
        required: true
      responses:
        "204":
          description: No Content (https://tools.ietf.org/html/rfc7231#section-6.3.5)
        "400":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error400'
          description: Bad Request
        "401":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error401'
          description: Unauthorized
        "403":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error403'
          description: Forbidden
        "408":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error408'
          description: Request Time-out
        "500":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error500'
          description: Internal Server Error
      security:
      - oauth2MEFLSOAPI:
        - faultManagementJobReportPreparationErrorEvent
      summary: Fault Management Job Report Preparation Error Notification endpoint.
      tags:
      - Notification listeners
  /listener/cancelFaultManagementJobStateChangeEvent:
    post:
      description: Client listener for receiving the  cancelFaultManagementJobStateChangeEvent
        notification.
      operationId: cancelFaultManagementJobStateChangeEvent
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              $ref: '#/components/schemas/FaultManagementJobProcessEvent'
        description: The event data
        required: true
      responses:
        "204":
          description: No Content (https://tools.ietf.org/html/rfc7231#section-6.3.5)
        "400":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error400'
          description: Bad Request
        "401":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error401'
          description: Unauthorized
        "403":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error403'
          description: Forbidden
        "408":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error408'
          description: Request Time-out
        "500":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error500'
          description: Internal Server Error
      security:
      - oauth2MEFLSOAPI:
        - cancelFaultManagementJobStateChangeEvent
      summary: Cancel Fault Management Job State Change Notification endpoint.
      tags:
      - Notification listeners
  /listener/modifyFaultManagementJobStateChangeEvent:
    post:
      description: Client listener for receiving the  modifyFaultManagementJobStateChangeEvent
        notification.
      operationId: modifyFaultManagementJobStateChangeEvent
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              $ref: '#/components/schemas/FaultManagementJobProcessEvent'
        description: The event data
        required: true
      responses:
        "204":
          description: No Content (https://tools.ietf.org/html/rfc7231#section-6.3.5)
        "400":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error400'
          description: Bad Request
        "401":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error401'
          description: Unauthorized
        "403":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error403'
          description: Forbidden
        "408":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error408'
          description: Request Time-out
        "500":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error500'
          description: Internal Server Error
      security:
      - oauth2MEFLSOAPI:
        - modifyFaultManagementJobStateChangeEvent
      summary: Modify Fault Management Job State Change Notification endpoint.
      tags:
      - Notification listeners
  /listener/faultManagementReportCreateEvent:
    post:
      description: Client listener for receiving the faultManagementReportCreateEvent  notification.
      operationId: faultManagementReportCreateEvent
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              $ref: '#/components/schemas/FaultManagementReportEvent'
        description: The event data
        required: true
      responses:
        "204":
          description: No Content (https://tools.ietf.org/html/rfc7231#section-6.3.5)
        "400":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error400'
          description: Bad Request
        "401":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error401'
          description: Unauthorized
        "403":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error403'
          description: Forbidden
        "408":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error408'
          description: Request Time-out
        "500":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error500'
          description: Internal Server Error
      security:
      - oauth2MEFLSOAPI:
        - faultManagementReportCreateEvent
      summary: Fault Management Report Create Notification endpoint.
      tags:
      - Notification listeners
  /listener/faultManagementReportStateChangeEvent:
    post:
      description: Client listener for receiving the  faultManagementReportStateChangeEvent
        notification.
      operationId: faultManagementReportStateChangeEvent
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              $ref: '#/components/schemas/FaultManagementReportEvent'
        description: The event data
        required: true
      responses:
        "204":
          description: No Content (https://tools.ietf.org/html/rfc7231#section-6.3.5)
        "400":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error400'
          description: Bad Request
        "401":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error401'
          description: Unauthorized
        "403":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error403'
          description: Forbidden
        "408":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error408'
          description: Request Time-out
        "500":
          content:
            application/json;charset=utf-8:
              schema:
                $ref: '#/components/schemas/Error500'
          description: Internal Server Error
      security:
      - oauth2MEFLSOAPI:
        - faultManagementReportStateChangeEvent
      summary: Fault Management Report State Change Notification endpoint.
      tags:
      - Notification listeners
components:
  schemas:
    Error:
      description: |
        Standard Class used to describe API response error.
        Not intended to be use directly. The `code` in the HTTP header is used as a discriminator for the type of error returned in runtime.
      properties:
        reason:
          description: Text that explains the reason for error. This can be shown
            to a client user.
          maxLength: 255
          type: string
        message:
          description: Text that provide mode details and corrective actions related
            to the error. This can be shown to a client user.
          type: string
        referenceError:
          description: url pointing to documentation describing the error.
          format: uri
          type: string
      required:
      - reason
      type: object
    Error400:
      allOf:
      - $ref: '#/components/schemas/Error'
      - properties:
          code:
            $ref: '#/components/schemas/Error400Code'
        required:
        - code
        type: object
      description: Bad Request. (https://tools.ietf.org/html/rfc7231#section-6.5.1)
    Error400Code:
      description: "One of the following error codes: - missingQueryParameter: The\
        \ URI is missing a required query-string parameter. - missingQueryValue: The\
        \ URI is missing a required query-string parameter value. - invalidQuery:\
        \ The query section of the URI is invalid. - invalidBody: The request has\
        \ an invalid body."
      enum:
      - missingQueryParameter
      - missingQueryValue
      - invalidQuery
      - invalidBody
      type: string
    Error401:
      allOf:
      - $ref: '#/components/schemas/Error'
      - properties:
          code:
            $ref: '#/components/schemas/Error401Code'
        required:
        - code
        type: object
      description: Unauthorized.  (https://tools.ietf.org/html/rfc7235#section-3.1)
    Error401Code:
      description: |-
        One of the following error codes:
        - missingCredentials: No credentials provided.
        - invalidCredentials: Provided credentials are invalid or expired.
      enum:
      - missingCredentials
      - invalidCredentials
      type: string
    Error403:
      allOf:
      - $ref: '#/components/schemas/Error'
      - properties:
          code:
            $ref: '#/components/schemas/Error403Code'
        required:
        - code
        type: object
      description: Forbidden. (https://tools.ietf.org/html/rfc7231#section-6.5.3)
    Error403Code:
      description: "This code indicates that the server understood the request but\
        \ refuses \nto authorize it because of one of the following error codes:\n\
        - accessDenied: Access denied.\n- forbiddenRequester: Forbidden requester.\n\
        - tooManyUsers: Too many users."
      enum:
      - accessDenied
      - forbiddenRequester
      - tooManyUsers
      type: string
    Error408:
      allOf:
      - $ref: '#/components/schemas/Error'
      - properties:
          code:
            description: "List of supported error codes: - timeOut: Request Time-out\
              \ - indicates that the server did not receive a complete request message\
              \ within the time that it was prepared to wait."
            enum:
            - timeOut
            type: string
        required:
        - code
        type: object
      description: Request Time-out (https://tools.ietf.org/html/rfc7231#section-6.5.7)
    Error500:
      allOf:
      - $ref: '#/components/schemas/Error'
      - properties:
          code:
            description: "One of the following error codes: - internalError: Internal\
              \ server error - the server encountered an unexpected condition that\
              \ prevented it from fulfilling the request."
            enum:
            - internalError
            type: string
        required:
        - code
        type: object
      description: Internal Server Error. (https://tools.ietf.org/html/rfc7231#section-6.6.1)
    Event:
      description: Event class is used to describe the information structure used
        for notification.
      properties:
        eventId:
          description: Id of the event.
          type: string
        eventTime:
          description: Date-time when the event occurred.
          format: date-time
          type: string
      required:
      - eventId
      - eventTime
      type: object
    FaultManagementJobEvent:
      allOf:
      - $ref: '#/components/schemas/Event'
      - properties:
          eventType:
            $ref: '#/components/schemas/FaultManagementJobEventType'
          event:
            $ref: '#/components/schemas/FaultManagementJobEventPayload'
        required:
        - event
        - eventType
        type: object
    FaultManagementJobEventPayload:
      description: The identifier of the Fault Management Job being the subject to
        this event and its state.
      properties:
        href:
          description: Hyperlink to access the Fault Management Job.
          type: string
        id:
          description: ID of the Fault Management Job.
          type: string
        state:
          $ref: '#/components/schemas/State'
          description: State of the Fault Management Job.
      required:
      - id
      type: object
    FaultManagementJobEventType:
      description: Indicates the type of Fault Management Job event.
      enum:
      - faultManagementJobCreateEvent
      - faultManagementJobStateChangeEvent
      - faultManagementJobAttributeValueChangeEvent
      type: string
    FaultManagementJobProcessEvent:
      allOf:
      - $ref: '#/components/schemas/Event'
      - properties:
          eventType:
            $ref: '#/components/schemas/FaultManagementJobProcessEventType'
          event:
            $ref: '#/components/schemas/FaultManagementJobProcessEventPayload'
        required:
        - event
        - eventType
        type: object
    FaultManagementJobProcessEventPayload:
      description: "The identifier of the Fault Management Job Process, including:\
        \ \n  - Modify Fault Management Job\n  - Cancel Fault Management Job\nbeing\
        \ the subject of this event."
      properties:
        href:
          description: Hyperlink to access the Fault Management Job Process.
          type: string
        id:
          description: ID of the Fault Management Job Process.
          type: string
      required:
      - id
      type: object
    FaultManagementJobProcessEventType:
      description: Indicates the type of Fault Management Job Process event.
      enum:
      - cancelFaultManagementJobStateChangeEvent
      - modifyFaultManagementJobStateChangeEvent
      type: string
    FaultManagementJobReportPreparationErrorEvent:
      allOf:
      - $ref: '#/components/schemas/Event'
      - properties:
          eventType:
            $ref: '#/components/schemas/FaultManagementJobReportPreparationErrorEventType'
          event:
            $ref: '#/components/schemas/FaultManagementJobReportPreparationErrorEventPayload'
        required:
        - event
        - eventType
        type: object
    FaultManagementJobReportPreparationErrorEventPayload:
      description: The identifier of the Fault Management Job being the subject of
        this event and reason for report preparation failure.
      properties:
        href:
          description: Hyperlink to access the Fault Management Job.
          type: string
        id:
          description: ID of the Fault Management Job.
          type: string
        reportPreparationFailedReason:
          description: Reason for Report preparation failure.
          type: string
      required:
      - id
      - reportPreparationFailedReason
      type: object
    FaultManagementJobReportPreparationErrorEventType:
      description: Indicates the type of Fault Management Job event.
      enum:
      - faultManagementJobReportPreparationErrorEvent
      type: string
    FaultManagementJobReportReadyEvent:
      allOf:
      - $ref: '#/components/schemas/Event'
      - properties:
          eventType:
            $ref: '#/components/schemas/FaultManagementJobReportReadyEventType'
          event:
            $ref: '#/components/schemas/FaultManagementJobReportReadyEventPayload'
        required:
        - event
        - eventType
        type: object
    FaultManagementJobReportReadyEventPayload:
      description: The identifier of the Fault Management Job and Report ID being
        the  subjects of this event.
      properties:
        href:
          description: Hyperlink to access the Fault Management Job.
          type: string
        id:
          description: ID of the Fault Management Job.
          type: string
        reportHref:
          description: Hyperlink to access the Fault Management Report.
          type: string
        reportId:
          description: ID of generated Fault Management Report.
          type: string
      required:
      - id
      - reportId
      type: object
    FaultManagementJobReportReadyEventType:
      description: Indicates the type of Fault Management Job event.
      enum:
      - faultManagementJobReportReadyEvent
      type: string
    FaultManagementReportEvent:
      allOf:
      - $ref: '#/components/schemas/Event'
      - properties:
          eventType:
            $ref: '#/components/schemas/FaultManagementReportEventType'
          event:
            $ref: '#/components/schemas/FaultManagementReportEventPayload'
        required:
        - event
        - eventType
        type: object
    FaultManagementReportEventPayload:
      description: The identifier of the Fault Management Report being the subject
        of this event.
      properties:
        href:
          description: Hyperlink to access the Fault Management Report.
          type: string
        id:
          description: ID of the Fault Management Report.
          type: string
      required:
      - id
      type: object
    FaultManagementReportEventType:
      description: Indicates the type of Fault Management Report event.
      enum:
      - faultManagementReportCreateEvent
      - faultManagementReportStateChangeEvent
      type: string
    State:
      description: State of the Fault Management Job.
      enum:
      - acknowledged
      - cancelled
      - completed
      - inProgress
      - pending
      - pendingCancel
      - rejected
      - resourcesUnavailable
      - scheduled
      - suspended
      type: string
  securitySchemes:
    oauth2MEFLSOAPI:
      description: Default m2m client code
      flows:
        clientCredentials:
          refreshUrl: http://mef.net/example/refresh
          scopes:
            default: default scope
          tokenUrl: http://mef.net/example/token
      type: oauth2
